import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from sklearn.feature_selection import chi2
import seaborn as sns

df=pd.read_csv("loandata.xls")
print(df.head(10))

df=df[['Gender','Married','Dependents','Education','Self_Employed','Credit_History','Property_Area','Loan_Status']]
df.head()

from sklearn.preprocessing import LabelEncoder
for col in df.columns:
    le=LabelEncoder()
    df[col]=le.fit_transform(df[col])
df.head()

x=df.iloc[:,0:8]    
y=df.iloc[:,-1]    

f_score=chi2(x,y)
f_score
p_value=pd.Series(f_score[1],index=x.columns)
p_value.sort_values(ascending=False, inplace=True)
p_value
p_value.plot(kind="bar")
plt.xlabel("Feature",fontsize=20)
plt.ylabel("p_values",fontsize=20)
plt.title("chi squared test on p_values")
plt.show()
